{
  "name": "è´¨é‡æ£€éªŒAgentå·¥ä½œæµ - é€»è¾‘æ£€éªŒä¸ä¿®æ”¹å»ºè®®",
  "nodes": [
    {
      "parameters": {
        "httpMethod": "POST",
        "path": "/quality-review",
        "options": {}
      },
      "id": "q1r2s3t4-u5v6-7890-abcd-ef1234567890",
      "name": "è´¨é‡å®¡æ ¸è§¦å‘å™¨",
      "type": "n8n-nodes-base.webhook",
      "typeVersion": 1,
      "position": [100, 100],
      "webhookId": "quality-review"
    },
    {
      "parameters": {
        "values": {
          "string": [
            {
              "name": "llmApiUrl",
              "value": "https://api.openai.com/v1/chat/completions"
            },
            {
              "name": "llmModel",
              "value": "gpt-4"
            },
            {
              "name": "reviewerModel",
              "value": "gpt-4"
            },
            {
              "name": "writerWorkflowUrl",
              "value": "http://localhost:5678/webhook/writing-agent"
            },
            {
              "name": "assemblyWorkflowUrl",
              "value": "http://localhost:5678/webhook/final-assembly"
            },
            {
              "name": "maxRevisionCycles",
              "value": "3"
            }
          ]
        }
      },
      "id": "r2s3t4u5-v6w7-8901-bcde-f23456789012",
      "name": "ç¯å¢ƒé…ç½®",
      "type": "n8n-nodes-base.set",
      "typeVersion": 2,
      "position": [100, 300]
    },
    {
      "parameters": {
        "functionCode": "// åˆå§‹åŒ–è´¨é‡å®¡æ ¸æµç¨‹\nfor (const item of $input.all()) {\n  const writingResult = item.json.writingResult;\n  const reviewType = item.json.reviewType || 'quality_review';\n  \n  // ç¡®å®šå®¡æ ¸çº§åˆ«\n  const reviewLevel = {\n    'quality_review': 'standard',\n    'logic_check': 'comprehensive',\n    'consistency_check': 'cross_reference',\n    'final_review': 'thorough'\n  }[reviewType] || 'standard';\n  \n  // æ„å»ºå®¡æ ¸ä¸Šä¸‹æ–‡\n  const reviewContext = {\n    contentInfo: {\n      taskId: writingResult.taskId,\n      chapter: writingResult.chapter,\n      section: writingResult.section,\n      title: writingResult.title,\n      wordCount: writingResult.metadata.actualWordCount,\n      targetWordCount: writingResult.metadata.targetWordCount\n    },\n    content: writingResult.content,\n    previousQualityScore: writingResult.qualityCheck.score,\n    reviewLevel: reviewLevel,\n    reviewType: reviewType,\n    revisionHistory: writingResult.revisionHistory || [],\n    currentRevisionCycle: (writingResult.revisionCycle || 0) + 1\n  };\n  \n  item.json = {\n    reviewContext: reviewContext,\n    originalWritingResult: writingResult,\n    processingStage: 'review_initialization',\n    startedAt: new Date().toISOString()\n  };\n}\n\nreturn $input.all();"
      },
      "id": "s3t4u5v6-w7x8-9012-cdef-345678901234",
      "name": "å®¡æ ¸æµç¨‹åˆå§‹åŒ–",
      "type": "n8n-nodes-base.code",
      "typeVersion": 2,
      "position": [300, 100]
    },
    {
      "parameters": {
        "url": "{{ $('ç¯å¢ƒé…ç½®').item.json.llmApiUrl }}",
        "authentication": "genericCredentialType",
        "genericAuthType": "httpHeaderAuth",
        "method": "POST",
        "sendHeaders": true,
        "headerParameters": {
          "parameters": [
            {
              "name": "Content-Type",
              "value": "application/json"
            }
          ]
        },
        "sendBody": true,
        "bodyParameters": {
          "parameters": [
            {
              "name": "model",
              "value": "{{ $('ç¯å¢ƒé…ç½®').item.json.reviewerModel }}"
            },
            {
              "name": "messages",
              "value": "=[{\"role\": \"system\", \"content\": \"ä½ æ˜¯ä¸€ä¸ªä¸“ä¸šçš„å­¦æœ¯è®ºæ–‡å®¡æ ¸ä¸“å®¶ã€‚ä½ çš„ä»»åŠ¡æ˜¯å¯¹è®ºæ–‡ç« èŠ‚å†…å®¹è¿›è¡Œå…¨é¢çš„è´¨é‡æ£€éªŒï¼ŒåŒ…æ‹¬é€»è¾‘ä¸€è‡´æ€§ã€è®ºè¯å……åˆ†æ€§ã€è¯­è¨€è§„èŒƒæ€§ç­‰æ–¹é¢ã€‚\\n\\nå®¡æ ¸æ ‡å‡†ï¼š\\n1. **é€»è¾‘ç»“æ„**ï¼šè®ºè¯é€»è¾‘æ˜¯å¦æ¸…æ™°ï¼Œå‰åæ˜¯å¦è¿è´¯\\n2. **å†…å®¹è´¨é‡**ï¼šæ˜¯å¦ç¬¦åˆå­¦æœ¯è§„èŒƒï¼Œè®ºæ®æ˜¯å¦å……åˆ†\\n3. **è¯­è¨€è¡¨è¾¾**ï¼šç”¨è¯æ˜¯å¦å‡†ç¡®ï¼Œè¡¨è¾¾æ˜¯å¦ä¸“ä¸š\\n4. **ç»“æ„å®Œæ•´æ€§**ï¼šç« èŠ‚ç»“æ„æ˜¯å¦åˆç†ï¼Œå†…å®¹æ˜¯å¦å®Œæ•´\\n5. **å¼•ç”¨è§„èŒƒ**ï¼šå¼•ç”¨æ ¼å¼æ˜¯å¦æ­£ç¡®ï¼Œæ¥æºæ˜¯å¦å¯é \\n6. **åŸåˆ›æ€§**ï¼šå†…å®¹æ˜¯å¦å…·æœ‰å­¦æœ¯ä»·å€¼ï¼Œé¿å…é‡å¤å’Œå†—ä½™\\n\\nè¾“å‡ºæ ¼å¼ä¸ºJSONï¼š\\n{\\n  \\\"overallScore\\\": è¯„åˆ†(1-10),\\n  \\\"qualityAssessment\\\": {\\n    \\\"logicScore\\\": é€»è¾‘è¯„åˆ†(1-10),\\n    \\\"contentScore\\\": å†…å®¹è¯„åˆ†(1-10),\\n    \\\"languageScore\\\": è¯­è¨€è¯„åˆ†(1-10),\\n    \\\"structureScore\\\": ç»“æ„è¯„åˆ†(1-10),\\n    \\\"citationScore\\\": å¼•ç”¨è¯„åˆ†(1-10),\\n    \\\"originalityScore\\\": åŸåˆ›æ€§è¯„åˆ†(1-10)\\n  },\\n  \\\"issuesFound\\\": [\\n    {\\n      \\\"type\\\": \\\"é—®é¢˜ç±»å‹\\\",\\n      \\\"severity\\\": \\\"ä¸¥é‡ç¨‹åº¦(critical/major/minor)\\\",\\n      \\\"location\\\": \\\"é—®é¢˜ä½ç½®\\\",\\n      \\\"description\\\": \\\"é—®é¢˜æè¿°\\\",\\n      \\\"suggestion\\\": \\\"ä¿®æ”¹å»ºè®®\\\"\\n    }\\n  ],\\n  \\\"overallFeedback\\\": \\\"æ€»ä½“è¯„ä»·å’Œå»ºè®®\\\",\\n  \\\"needsRevision\\\": true/false,\\n  \\\"approvedForNext\\\": true/false\\n}\"}, {\"role\": \"user\", \"content\": \"è¯·å®¡æ ¸ä»¥ä¸‹è®ºæ–‡ç« èŠ‚å†…å®¹ï¼š\\n\\n## ç« èŠ‚ä¿¡æ¯\\n**ç« èŠ‚ï¼š** ç¬¬{{ $json.reviewContext.contentInfo.chapter }}ç« \\n**å°èŠ‚ï¼š** {{ $json.reviewContext.contentInfo.section }} {{ $json.reviewContext.contentInfo.title }}\\n**å­—æ•°ï¼š** {{ $json.reviewContext.contentInfo.wordCount }}/{{ $json.reviewContext.contentInfo.targetWordCount }}å­—\\n**å®¡æ ¸ç±»å‹ï¼š** {{ $json.reviewContext.reviewType }}\\n**å®¡æ ¸çº§åˆ«ï¼š** {{ $json.reviewContext.reviewLevel }}\\n**ä¿®è®¢è½®æ¬¡ï¼š** {{ $json.reviewContext.currentRevisionCycle }}\\n\\n## ç« èŠ‚å†…å®¹\\n{{ $json.reviewContext.content }}\\n\\n{{ $json.reviewContext.revisionHistory.length > 0 ? '## ä¿®è®¢å†å²\\n' + $json.reviewContext.revisionHistory.map((rev, index) => `**ç¬¬${index + 1}æ¬¡ä¿®è®¢ï¼š** ${rev.summary}`).join('\\n') : '' }}\\n\\nè¯·è¿›è¡Œå…¨é¢çš„è´¨é‡å®¡æ ¸å¹¶æä¾›è¯¦ç»†çš„åé¦ˆæ„è§ã€‚\"}]"
            },
            {
              "name": "temperature",
              "value": "0.2"
            },
            {
              "name": "max_tokens",
              "value": "2000"
            }
          ]
        }
      },
      "id": "t4u5v6w7-x8y9-0123-def0-456789012345",
      "name": "LLMè´¨é‡å®¡æ ¸",
      "type": "n8n-nodes-base.httpRequest",
      "typeVersion": 4,
      "position": [500, 100]
    },
    {
      "parameters": {
        "functionCode": "// å¤„ç†å®¡æ ¸ç»“æœå¹¶ç”Ÿæˆæ”¹è¿›å»ºè®®\nfor (const item of $input.all()) {\n  try {\n    const reviewResponse = JSON.parse(item.json.choices[0].message.content);\n    const reviewContext = $('å®¡æ ¸æµç¨‹åˆå§‹åŒ–').first().json.reviewContext;\n    const originalResult = $('å®¡æ ¸æµç¨‹åˆå§‹åŒ–').first().json.originalWritingResult;\n    \n    // åˆ†æå®¡æ ¸ç»“æœ\n    const qualityGrades = {\n      excellent: { min: 9, label: 'ä¼˜ç§€' },\n      good: { min: 7, label: 'è‰¯å¥½' },\n      acceptable: { min: 6, label: 'åŠæ ¼' },\n      needsImprovement: { min: 4, label: 'éœ€æ”¹è¿›' },\n      poor: { min: 0, label: 'ä¸åˆæ ¼' }\n    };\n    \n    const overallGrade = Object.entries(qualityGrades).find(\n      ([grade, criteria]) => reviewResponse.overallScore >= criteria.min\n    )?.[0] || 'poor';\n    \n    // ç»Ÿè®¡é—®é¢˜ä¸¥é‡ç¨‹åº¦\n    const issueStats = {\n      critical: reviewResponse.issuesFound.filter(issue => issue.severity === 'critical').length,\n      major: reviewResponse.issuesFound.filter(issue => issue.severity === 'major').length,\n      minor: reviewResponse.issuesFound.filter(issue => issue.severity === 'minor').length\n    };\n    \n    // å†³å®šæ˜¯å¦éœ€è¦ä¿®è®¢\n    const needsRevision = reviewResponse.needsRevision || \n                         reviewResponse.overallScore < 7 || \n                         issueStats.critical > 0 || \n                         issueStats.major > 2;\n    \n    // æ£€æŸ¥ä¿®è®¢æ¬¡æ•°é™åˆ¶\n    const maxCycles = parseInt($('ç¯å¢ƒé…ç½®').item.json.maxRevisionCycles);\n    const exceedsMaxCycles = reviewContext.currentRevisionCycle >= maxCycles;\n    \n    // ç”Ÿæˆä¿®è®¢æŒ‡ä»¤ï¼ˆå¦‚æœéœ€è¦ä¿®è®¢ï¼‰\n    let revisionInstructions = null;\n    if (needsRevision && !exceedsMaxCycles) {\n      revisionInstructions = {\n        priority: 'high',\n        targetIssues: reviewResponse.issuesFound.filter(issue => \n          issue.severity === 'critical' || issue.severity === 'major'\n        ),\n        generalGuidance: reviewResponse.overallFeedback,\n        specificChanges: reviewResponse.issuesFound.map(issue => ({\n          location: issue.location,\n          change: issue.suggestion,\n          reason: issue.description\n        }))\n      };\n    }\n    \n    // æ„å»ºå®¡æ ¸ç»“æœ\n    const reviewResult = {\n      // åŸºç¡€ä¿¡æ¯\n      taskId: reviewContext.contentInfo.taskId,\n      reviewedAt: new Date().toISOString(),\n      reviewType: reviewContext.reviewType,\n      revisionCycle: reviewContext.currentRevisionCycle,\n      \n      // è´¨é‡è¯„ä¼°\n      qualityAssessment: {\n        overallScore: reviewResponse.overallScore,\n        overallGrade: overallGrade,\n        gradeLabel: qualityGrades[overallGrade].label,\n        detailedScores: reviewResponse.qualityAssessment,\n        averageScore: Object.values(reviewResponse.qualityAssessment).reduce((a, b) => a + b) / Object.values(reviewResponse.qualityAssessment).length\n      },\n      \n      // é—®é¢˜åˆ†æ\n      issueAnalysis: {\n        totalIssues: reviewResponse.issuesFound.length,\n        issueStats: issueStats,\n        issueDetails: reviewResponse.issuesFound\n      },\n      \n      // å†³ç­–ç»“æœ\n      decisions: {\n        needsRevision: needsRevision,\n        approvedForNext: reviewResponse.approvedForNext && !needsRevision,\n        exceedsMaxCycles: exceedsMaxCycles,\n        finalDecision: exceedsMaxCycles ? 'force_approve' : \n                      needsRevision ? 'request_revision' : 'approve'\n      },\n      \n      // åé¦ˆå’Œå»ºè®®\n      feedback: {\n        overallFeedback: reviewResponse.overallFeedback,\n        revisionInstructions: revisionInstructions\n      },\n      \n      // åŸå§‹å†…å®¹å¼•ç”¨\n      originalContent: reviewContext.content,\n      processingStage: 'review_completed',\n      nextStage: needsRevision && !exceedsMaxCycles ? 'revision_required' : 'content_approved'\n    };\n    \n    item.json = {\n      reviewResult: reviewResult,\n      originalWritingResult: originalResult\n    };\n    \n  } catch (error) {\n    item.json = {\n      error: 'å®¡æ ¸ç»“æœå¤„ç†å¤±è´¥',\n      errorMessage: error.message,\n      originalResponse: item.json,\n      processingStage: 'review_failed'\n    };\n  }\n}\n\nreturn $input.all();"
      },
      "id": "u5v6w7x8-y9z0-1234-ef01-567890123456",
      "name": "å®¡æ ¸ç»“æœå¤„ç†",
      "type": "n8n-nodes-base.code",
      "typeVersion": 2,
      "position": [700, 100]
    },
    {
      "parameters": {
        "conditions": {
          "options": {
            "caseSensitive": true,
            "leftValue": "={{ $json.reviewResult && $json.reviewResult.decisions.finalDecision }}",
            "operation": "equal",
            "rightValue": "request_revision"
          }
        }
      },
      "id": "v6w7x8y9-z0a1-2345-f012-678901234567",
      "name": "å®¡æ ¸å†³ç­–åˆ†æ”¯",
      "type": "n8n-nodes-base.if",
      "typeVersion": 1,
      "position": [900, 100]
    },
    {
      "parameters": {
        "functionCode": "// ç”Ÿæˆä¿®è®¢ä»»åŠ¡å¹¶å‘é€ç»™å†™ä½œAgent\nfor (const item of $input.all()) {\n  const reviewResult = item.json.reviewResult;\n  const originalResult = item.json.originalWritingResult;\n  \n  // æ„å»ºä¿®è®¢ä»»åŠ¡\n  const revisionTask = {\n    taskId: reviewResult.taskId,\n    type: 'content_revision',\n    revisionCycle: reviewResult.revisionCycle,\n    \n    // åŸå§‹å†…å®¹å’Œè¦æ±‚\n    originalContent: reviewResult.originalContent,\n    originalRequirements: {\n      chapter: originalResult.chapter,\n      section: originalResult.section,\n      title: originalResult.title,\n      targetWordCount: originalResult.metadata.targetWordCount\n    },\n    \n    // ä¿®è®¢æŒ‡ä»¤\n    revisionInstructions: reviewResult.feedback.revisionInstructions,\n    \n    // è´¨é‡æ ‡å‡†\n    qualityTargets: {\n      minimumOverallScore: 7.5,\n      maxCriticalIssues: 0,\n      maxMajorIssues: 1\n    },\n    \n    // ä¿®è®¢å†å²\n    revisionHistory: originalResult.revisionHistory || [],\n    \n    // æ—¶é—´æˆ³\n    createdAt: new Date().toISOString(),\n    priority: 'high'\n  };\n  \n  // æ›´æ–°ä¿®è®¢å†å²\n  revisionTask.revisionHistory.push({\n    cycle: reviewResult.revisionCycle,\n    reviewScore: reviewResult.qualityAssessment.overallScore,\n    issues: reviewResult.issueAnalysis.totalIssues,\n    summary: `ç¬¬${reviewResult.revisionCycle}è½®å®¡æ ¸ï¼šå‘ç°${reviewResult.issueAnalysis.totalIssues}ä¸ªé—®é¢˜ï¼Œéœ€è¦ä¿®è®¢`,\n    timestamp: new Date().toISOString()\n  });\n  \n  item.json = {\n    revisionTask: revisionTask,\n    reviewResult: reviewResult\n  };\n}\n\nreturn $input.all();"
      },
      "id": "w7x8y9z0-a1b2-3456-0123-789012345678",
      "name": "ç”Ÿæˆä¿®è®¢ä»»åŠ¡",
      "type": "n8n-nodes-base.code",
      "typeVersion": 2,
      "position": [1100, 80]
    },
    {
      "parameters": {
        "url": "{{ $('ç¯å¢ƒé…ç½®').item.json.writerWorkflowUrl }}",
        "method": "POST",
        "sendBody": true,
        "bodyParameters": {
          "parameters": [
            {
              "name": "revisionTask",
              "value": "={{ $json.revisionTask }}"
            },
            {
              "name": "taskType",
              "value": "revision"
            }
          ]
        }
      },
      "id": "x8y9z0a1-b2c3-4567-1234-890123456789",
      "name": "å‘é€ä¿®è®¢ä»»åŠ¡",
      "type": "n8n-nodes-base.httpRequest",
      "typeVersion": 4,
      "position": [1300, 80]
    },
    {
      "parameters": {
        "functionCode": "// æ ‡è®°å†…å®¹å·²é€šè¿‡å®¡æ ¸ï¼Œå‡†å¤‡æœ€ç»ˆæ•´åˆ\nfor (const item of $input.all()) {\n  const reviewResult = item.json.reviewResult;\n  const originalResult = item.json.originalWritingResult;\n  \n  // åˆ›å»ºå·²æ‰¹å‡†çš„å†…å®¹è®°å½•\n  const approvedContent = {\n    taskId: reviewResult.taskId,\n    chapter: originalResult.chapter,\n    section: originalResult.section,\n    title: originalResult.title,\n    content: reviewResult.originalContent,\n    \n    // è´¨é‡ä¿¡æ¯\n    finalQualityScore: reviewResult.qualityAssessment.overallScore,\n    qualityGrade: reviewResult.qualityAssessment.overallGrade,\n    revisionCycles: reviewResult.revisionCycle,\n    \n    // å®¡æ ¸ä¿¡æ¯\n    approvedAt: new Date().toISOString(),\n    approvedBy: 'quality_review_agent',\n    reviewType: reviewResult.reviewType,\n    \n    // å…ƒæ•°æ®\n    wordCount: originalResult.metadata.actualWordCount,\n    targetWordCount: originalResult.metadata.targetWordCount,\n    wordCountRatio: originalResult.metadata.wordCountRatio,\n    \n    // çŠ¶æ€\n    status: 'approved',\n    readyForAssembly: true,\n    processingStage: 'content_approved'\n  };\n  \n  item.json = {\n    approvedContent: approvedContent,\n    reviewResult: reviewResult\n  };\n}\n\nreturn $input.all();"
      },
      "id": "y9z0a1b2-c3d4-5678-2345-901234567890",
      "name": "æ ‡è®°å†…å®¹å·²æ‰¹å‡†",
      "type": "n8n-nodes-base.code",
      "typeVersion": 2,
      "position": [1100, 200]
    },
    {
      "parameters": {
        "url": "{{ $('ç¯å¢ƒé…ç½®').item.json.assemblyWorkflowUrl }}",
        "method": "POST",
        "sendBody": true,
        "bodyParameters": {
          "parameters": [
            {
              "name": "approvedContent",
              "value": "={{ $json.approvedContent }}"
            },
            {
              "name": "action",
              "value": "add_approved_content"
            }
          ]
        }
      },
      "id": "z0a1b2c3-d4e5-6789-3456-012345678901",
      "name": "å‘é€è‡³æœ€ç»ˆæ•´åˆ",
      "type": "n8n-nodes-base.httpRequest",
      "typeVersion": 4,
      "position": [1300, 200]
    },
    {
      "parameters": {},
      "id": "a1b2c3d4-e5f6-7890-4567-123456789012",
      "name": "å®¡æ ¸ç»“æœåˆå¹¶",
      "type": "n8n-nodes-base.merge",
      "typeVersion": 2,
      "position": [1500, 140]
    },
    {
      "parameters": {
        "functionCode": "// ç”Ÿæˆå®¡æ ¸æŠ¥å‘Šå¹¶è®°å½•å®¡æ ¸å†å²\nfor (const item of $input.all()) {\n  let reviewResult, action;\n  \n  if (item.json.revisionTask) {\n    reviewResult = item.json.reviewResult;\n    action = 'revision_requested';\n  } else if (item.json.approvedContent) {\n    reviewResult = item.json.reviewResult;\n    action = 'content_approved';\n  } else {\n    continue;\n  }\n  \n  // ç”Ÿæˆå®¡æ ¸æŠ¥å‘Š\n  const auditReport = {\n    reportId: `audit-${reviewResult.taskId}-${reviewResult.revisionCycle}`,\n    taskId: reviewResult.taskId,\n    timestamp: new Date().toISOString(),\n    \n    // å®¡æ ¸æ¦‚è¦\n    summary: {\n      action: action,\n      overallScore: reviewResult.qualityAssessment.overallScore,\n      grade: reviewResult.qualityAssessment.gradeLabel,\n      totalIssues: reviewResult.issueAnalysis.totalIssues,\n      revisionCycle: reviewResult.revisionCycle\n    },\n    \n    // è¯¦ç»†è¯„ä¼°\n    assessment: reviewResult.qualityAssessment,\n    issues: reviewResult.issueAnalysis,\n    feedback: reviewResult.feedback.overallFeedback,\n    \n    // å†³ç­–è®°å½•\n    decision: reviewResult.decisions,\n    \n    // åç»­è¡ŒåŠ¨\n    nextActions: action === 'revision_requested' ? \n      ['å†…å®¹ä¿®è®¢', 'é‡æ–°å®¡æ ¸'] : \n      ['æ·»åŠ åˆ°æœ€ç»ˆæ–‡æ¡£', 'ç­‰å¾…å…¶ä»–ç« èŠ‚å®Œæˆ'],\n      \n    processingStage: 'audit_completed'\n  };\n  \n  item.json = {\n    auditReport: auditReport,\n    reviewResult: reviewResult,\n    action: action\n  };\n}\n\nreturn $input.all();"
      },
      "id": "b2c3d4e5-f6g7-8901-5678-234567890123",
      "name": "ç”Ÿæˆå®¡æ ¸æŠ¥å‘Š",
      "type": "n8n-nodes-base.code",
      "typeVersion": 2,
      "position": [1700, 140]
    },
    {
      "parameters": {
        "message": "ğŸ” è´¨é‡å®¡æ ¸å®Œæˆ\\n\\n**ä»»åŠ¡IDï¼š** {{ $json.auditReport.taskId }}\\n**å®¡æ ¸ç»“æœï¼š** {{ $json.auditReport.summary.grade }} ({{ $json.auditReport.summary.overallScore }}/10)\\n**å‘ç°é—®é¢˜ï¼š** {{ $json.auditReport.summary.totalIssues }}ä¸ª\\n**å¤„ç†ç»“æœï¼š** {{ $json.auditReport.summary.action === 'revision_requested' ? 'âœï¸ éœ€è¦ä¿®è®¢' : 'âœ… å·²æ‰¹å‡†' }}\\n**ä¿®è®¢è½®æ¬¡ï¼š** {{ $json.auditReport.summary.revisionCycle }}",
        "additionalFields": {
          "title": "è´¨é‡å®¡æ ¸æŠ¥å‘Š",
          "color": "{{ $json.auditReport.summary.action === 'revision_requested' ? '#FF9500' : '#00C851' }}"
        }
      },
      "id": "c3d4e5f6-g7h8-9012-6789-345678901234",
      "name": "å®¡æ ¸ç»“æœé€šçŸ¥",
      "type": "n8n-nodes-base.webhook",
      "typeVersion": 1,
      "position": [1900, 140]
    }
  ],
  "connections": {
    "è´¨é‡å®¡æ ¸è§¦å‘å™¨": {
      "main": [
        [
          {
            "node": "å®¡æ ¸æµç¨‹åˆå§‹åŒ–",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "å®¡æ ¸æµç¨‹åˆå§‹åŒ–": {
      "main": [
        [
          {
            "node": "LLMè´¨é‡å®¡æ ¸",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "LLMè´¨é‡å®¡æ ¸": {
      "main": [
        [
          {
            "node": "å®¡æ ¸ç»“æœå¤„ç†",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "å®¡æ ¸ç»“æœå¤„ç†": {
      "main": [
        [
          {
            "node": "å®¡æ ¸å†³ç­–åˆ†æ”¯",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "å®¡æ ¸å†³ç­–åˆ†æ”¯": {
      "main": [
        [
          {
            "node": "ç”Ÿæˆä¿®è®¢ä»»åŠ¡",
            "type": "main",
            "index": 0
          }
        ],
        [
          {
            "node": "æ ‡è®°å†…å®¹å·²æ‰¹å‡†",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "ç”Ÿæˆä¿®è®¢ä»»åŠ¡": {
      "main": [
        [
          {
            "node": "å‘é€ä¿®è®¢ä»»åŠ¡",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "å‘é€ä¿®è®¢ä»»åŠ¡": {
      "main": [
        [
          {
            "node": "å®¡æ ¸ç»“æœåˆå¹¶",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "æ ‡è®°å†…å®¹å·²æ‰¹å‡†": {
      "main": [
        [
          {
            "node": "å‘é€è‡³æœ€ç»ˆæ•´åˆ",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "å‘é€è‡³æœ€ç»ˆæ•´åˆ": {
      "main": [
        [
          {
            "node": "å®¡æ ¸ç»“æœåˆå¹¶",
            "type": "main",
            "index": 1
          }
        ]
      ]
    },
    "å®¡æ ¸ç»“æœåˆå¹¶": {
      "main": [
        [
          {
            "node": "ç”Ÿæˆå®¡æ ¸æŠ¥å‘Š",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "ç”Ÿæˆå®¡æ ¸æŠ¥å‘Š": {
      "main": [
        [
          {
            "node": "å®¡æ ¸ç»“æœé€šçŸ¥",
            "type": "main",
            "index": 0
          }
        ]
      ]
    }
  },
  "active": false,
  "settings": {
    "executionOrder": "v1"
  },
  "versionId": "quality-review-v1.0",
  "meta": {
    "templateCredsSetupCompleted": true,
    "description": "è´¨é‡æ£€éªŒAgentå·¥ä½œæµï¼šå¯¹å†™ä½œå†…å®¹è¿›è¡Œå…¨é¢è´¨é‡å®¡æ ¸ï¼ŒåŒ…æ‹¬é€»è¾‘æ£€éªŒã€è¯­è¨€è§„èŒƒæ£€æŸ¥ã€ç»“æ„åˆ†æç­‰ã€‚æ”¯æŒå¤šè½®ä¿®è®¢æœºåˆ¶å’Œè¯¦ç»†çš„é—®é¢˜åé¦ˆã€‚",
    "category": "quality-assurance",
    "tags": ["è´¨é‡å®¡æ ¸", "é€»è¾‘æ£€éªŒ", "ä¿®è®¢ç®¡ç†", "é—®é¢˜åˆ†æ", "å†…å®¹æ‰¹å‡†"]
  }
}