{
  "name": "å†™ä½œAgentå·¥ä½œæµ - åˆ†ä»»åŠ¡å†™ä½œå¤„ç†",
  "nodes": [
    {
      "parameters": {
        "httpMethod": "POST",
        "path": "/writing-agent",
        "options": {}
      },
      "id": "w1x2y3z4-a5b6-7890-abcd-ef1234567890",
      "name": "å†™ä½œä»»åŠ¡è§¦å‘å™¨",
      "type": "n8n-nodes-base.webhook",
      "typeVersion": 1,
      "position": [100, 100],
      "webhookId": "writing-agent"
    },
    {
      "parameters": {
        "values": [
          {
            "name": "llmApiUrl",
            "value": "https://api.openai.com/v1/chat/completions"
          },
          {
            "name": "llmModel",
            "value": "gpt-4"
          },
          {
            "name": "maxConcurrentTasks",
            "value": "3"
          },
          {
            "name": "reviewWorkflowUrl",
            "value": "http://localhost:5678/webhook/quality-review"
          },
          {
            "name": "taskStatusUrl",
            "value": "http://localhost:3000/api/task-status"
          }
        ]
      },
      "id": "x2y3z4a5-b6c7-8901-bcde-f23456789012",
      "name": "ç¯å¢ƒé…ç½®",
      "type": "n8n-nodes-base.set",
      "typeVersion": 2,
      "position": [100, 300]
    },
    {
      "parameters": {
        "functionCode": "// åˆå§‹åŒ–ä»»åŠ¡é˜Ÿåˆ—ç®¡ç†\nfor (const item of $input.all()) {\n  const outlineData = item.json.outlineData;\n  const writingTasks = outlineData.writingTasks || [];\n  \n  // æŒ‰ä¼˜å…ˆçº§å’Œä¾èµ–å…³ç³»æ’åºä»»åŠ¡\n  const sortedTasks = writingTasks.sort((a, b) => {\n    // ä¼˜å…ˆçº§æ’åºï¼šhigh > medium > low\n    const priorityOrder = { 'high': 3, 'medium': 2, 'low': 1 };\n    const priorityDiff = priorityOrder[b.priority] - priorityOrder[a.priority];\n    if (priorityDiff !== 0) return priorityDiff;\n    \n    // ç« èŠ‚é¡ºåºæ’åº\n    return a.chapter - b.chapter;\n  });\n  \n  // åˆ†æ‰¹å¤„ç†ä»»åŠ¡ï¼ˆé¿å…åŒæ—¶å¯åŠ¨è¿‡å¤šä»»åŠ¡ï¼‰\n  const maxConcurrent = parseInt($('ç¯å¢ƒé…ç½®').item.json.maxConcurrentTasks);\n  const taskBatches = [];\n  \n  for (let i = 0; i < sortedTasks.length; i += maxConcurrent) {\n    const batch = sortedTasks.slice(i, i + maxConcurrent);\n    taskBatches.push({\n      batchId: Math.floor(i / maxConcurrent) + 1,\n      tasks: batch,\n      status: 'pending'\n    });\n  }\n  \n  item.json = {\n    outlineData: outlineData,\n    taskManagement: {\n      totalTasks: writingTasks.length,\n      totalBatches: taskBatches.length,\n      currentBatch: 1,\n      completedTasks: 0,\n      failedTasks: 0\n    },\n    taskBatches: taskBatches,\n    processingStage: 'task_initialization',\n    startedAt: new Date().toISOString()\n  };\n}\n\nreturn $input.all();"
      },
      "id": "y3z4a5b6-c7d8-9012-cdef-345678901234",
      "name": "ä»»åŠ¡é˜Ÿåˆ—åˆå§‹åŒ–",
      "type": "n8n-nodes-base.code",
      "typeVersion": 2,
      "position": [300, 100]
    },
    {
      "parameters": {
        "functionCode": "// è·å–å½“å‰æ‰¹æ¬¡çš„ä»»åŠ¡\nconst allData = $input.all();\nconst result = [];\n\nfor (const item of allData) {\n  const taskBatches = item.json.taskBatches;\n  const currentBatchIndex = item.json.taskManagement.currentBatch - 1;\n  \n  if (currentBatchIndex < taskBatches.length) {\n    const currentBatch = taskBatches[currentBatchIndex];\n    \n    // ä¸ºå½“å‰æ‰¹æ¬¡çš„æ¯ä¸ªä»»åŠ¡åˆ›å»ºç‹¬ç«‹çš„æ•°æ®é¡¹\n    currentBatch.tasks.forEach((task, taskIndex) => {\n      result.push({\n        json: {\n          originalData: item.json,\n          currentTask: task,\n          batchInfo: {\n            batchId: currentBatch.batchId,\n            taskIndex: taskIndex,\n            totalInBatch: currentBatch.tasks.length\n          },\n          outlineData: item.json.outlineData\n        }\n      });\n    });\n  }\n}\n\nreturn result;"
      },
      "id": "z4a5b6c7-d8e9-0123-def0-456789012345",
      "name": "åˆ†å‘å½“å‰æ‰¹æ¬¡ä»»åŠ¡",
      "type": "n8n-nodes-base.code",
      "typeVersion": 2,
      "position": [500, 100]
    },
    {
      "parameters": {
        "url": "{{ $('ç¯å¢ƒé…ç½®').item.json.llmApiUrl }}",
        "authentication": "genericCredentialType",
        "genericAuthType": "httpHeaderAuth",
        "method": "POST",
        "sendHeaders": true,
        "headerParameters": {
          "parameters": [
            {
              "name": "Content-Type",
              "value": "application/json"
            }
          ]
        },
        "sendBody": true,
        "bodyParameters": {
          "parameters": [
            {
              "name": "model",
              "value": "{{ $('ç¯å¢ƒé…ç½®').item.json.llmModel }}"
            },
            {
              "name": "messages",
              "value": "=[{\"role\": \"system\", \"content\": \"ä½ æ˜¯ä¸€ä¸ªä¸“ä¸šçš„å­¦æœ¯å†™ä½œä¸“å®¶ã€‚æ ¹æ®æä¾›çš„è®ºæ–‡å¤§çº²å’Œå…·ä½“ç« èŠ‚è¦æ±‚ï¼Œæ’°å†™é«˜è´¨é‡çš„å­¦æœ¯æ–‡ç« å†…å®¹ã€‚\\n\\nå†™ä½œè¦æ±‚ï¼š\\n1. ä¸¥æ ¼æŒ‰ç…§æä¾›çš„å†…å®¹è¦æ±‚å’Œå­—æ•°é™åˆ¶\\n2. ä¿æŒå­¦æœ¯å†™ä½œçš„è§„èŒƒæ€§å’Œä¸“ä¸šæ€§\\n3. ç¡®ä¿é€»è¾‘æ¸…æ™°ã€è®ºè¯å……åˆ†\\n4. ä½¿ç”¨æ°å½“çš„å­¦æœ¯è¯­è¨€å’Œè¡¨è¾¾æ–¹å¼\\n5. æ³¨æ„ä¸å‰åç« èŠ‚çš„é€»è¾‘è¿è´¯æ€§\\n\\nè¾“å‡ºæ ¼å¼ï¼š\\n- ç›´æ¥è¾“å‡ºç« èŠ‚å†…å®¹ï¼Œæ— éœ€é¢å¤–æ ¼å¼\\n- åŒ…å«å¿…è¦çš„å°æ ‡é¢˜å’Œæ®µè½ç»“æ„\\n- åœ¨éœ€è¦å¼•ç”¨çš„åœ°æ–¹ç”¨[å¼•ç”¨]æ ‡è®°\\n- ä¿æŒæŒ‡å®šçš„å­—æ•°èŒƒå›´\"}, {\"role\": \"user\", \"content\": \"è¯·æ ¹æ®ä»¥ä¸‹è¦æ±‚æ’°å†™è®ºæ–‡ç« èŠ‚å†…å®¹ï¼š\\n\\n## è®ºæ–‡ä¿¡æ¯\\n**è®ºæ–‡æ ‡é¢˜ï¼š** {{ $json.outlineData.outline.title }}\\n**å†™ä½œé£æ ¼ï¼š** {{ $json.outlineData.guidelines.style }}\\n**å­¦æœ¯æ°´å¹³ï¼š** {{ $json.outlineData.guidelines.academicLevel }}\\n\\n## å½“å‰ä»»åŠ¡\\n**ç« èŠ‚ï¼š** ç¬¬{{ $json.currentTask.chapter }}ç« \\n**å°èŠ‚ï¼š** {{ $json.currentTask.section }} {{ $json.currentTask.title }}\\n**å†…å®¹è¦æ±‚ï¼š** {{ $json.currentTask.requirements.content }}\\n**ç›®æ ‡å­—æ•°ï¼š** {{ $json.currentTask.requirements.wordCount }}å­—\\n**æœ¬ç« ç›®æ ‡ï¼š** {{ $json.currentTask.requirements.objective }}\\n\\n## ä¸Šä¸‹æ–‡ä¿¡æ¯\\n**æœ¬ç« è¦ç‚¹ï¼š**\\n{{ $json.currentTask.requirements.context ? $json.currentTask.requirements.context.map((point, index) => `${index + 1}. ${point}`).join('\\n') : 'æ— ç‰¹å®šè¦ç‚¹' }}\\n\\nè¯·æ’°å†™ç¬¦åˆè¦æ±‚çš„ç« èŠ‚å†…å®¹ã€‚\"}]"
            },
            {
              "name": "temperature",
              "value": "0.4"
            },
            {
              "name": "max_tokens",
              "value": "2500"
            }
          ]
        }
      },
      "id": "a5b6c7d8-e9f0-1234-ef01-567890123456",
      "name": "LLMç« èŠ‚å†™ä½œ",
      "type": "n8n-nodes-base.httpRequest",
      "typeVersion": 4,
      "position": [700, 100]
    },
    {
      "parameters": {
        "functionCode": "// å¤„ç†å†™ä½œç»“æœå¹¶è¿›è¡ŒåŸºç¡€è´¨é‡æ£€æŸ¥\nfor (const item of $input.all()) {\n  try {\n    const writtenContent = item.json.choices[0].message.content;\n    const taskInfo = $('åˆ†å‘å½“å‰æ‰¹æ¬¡ä»»åŠ¡').first().json;\n    const currentTask = taskInfo.currentTask;\n    \n    // åŸºç¡€è´¨é‡æ£€æŸ¥\n    const wordCount = writtenContent.split(/\\s+/).length;\n    const targetWordCount = currentTask.requirements.wordCount;\n    const wordCountRatio = wordCount / targetWordCount;\n    \n    const qualityChecks = {\n      wordCountAppropriate: wordCountRatio >= 0.8 && wordCountRatio <= 1.2,\n      hasStructure: writtenContent.includes('\\n\\n'), // æ£€æŸ¥æ˜¯å¦æœ‰æ®µè½ç»“æ„\n      hasSubheadings: /^#{1,6}\\s/.test(writtenContent) || /\\*\\*.*\\*\\*/.test(writtenContent),\n      hasReferences: writtenContent.includes('[å¼•ç”¨]') || writtenContent.includes('\\['),\n      notEmpty: writtenContent.trim().length > 100,\n      properLength: writtenContent.length > 200\n    };\n    \n    const qualityScore = Object.values(qualityChecks).filter(Boolean).length / Object.values(qualityChecks).length;\n    \n    // ç”Ÿæˆå†™ä½œç»“æœ\n    const writingResult = {\n      taskId: currentTask.taskId,\n      chapter: currentTask.chapter,\n      section: currentTask.section,\n      title: currentTask.title,\n      content: writtenContent,\n      metadata: {\n        actualWordCount: wordCount,\n        targetWordCount: targetWordCount,\n        wordCountRatio: wordCountRatio,\n        writtenAt: new Date().toISOString(),\n        qualityScore: qualityScore\n      },\n      qualityCheck: {\n        score: qualityScore,\n        details: qualityChecks,\n        status: qualityScore >= 0.8 ? 'good' : qualityScore >= 0.6 ? 'acceptable' : 'needs_review'\n      },\n      processingStage: 'content_written',\n      nextStage: 'quality_review'\n    };\n    \n    item.json = {\n      originalTaskData: taskInfo,\n      writingResult: writingResult,\n      batchInfo: taskInfo.batchInfo\n    };\n    \n  } catch (error) {\n    item.json = {\n      error: 'å†™ä½œç»“æœå¤„ç†å¤±è´¥',\n      errorMessage: error.message,\n      taskId: $('åˆ†å‘å½“å‰æ‰¹æ¬¡ä»»åŠ¡').first().json.currentTask.taskId,\n      processingStage: 'writing_failed'\n    };\n  }\n}\n\nreturn $input.all();"
      },
      "id": "b6c7d8e9-f0g1-2345-f012-678901234567",
      "name": "å†™ä½œç»“æœå¤„ç†",
      "type": "n8n-nodes-base.code",
      "typeVersion": 2,
      "position": [900, 100]
    },
    {
      "parameters": {
        "conditions": {
          "options": {
            "caseSensitive": true,
            "leftValue": "={{ $json.writingResult && $json.writingResult.qualityCheck.status === 'needs_review' }}",
            "operation": "equal",
            "rightValue": "true"
          }
        }
      },
      "id": "c7d8e9f0-g1h2-3456-0123-789012345678",
      "name": "è´¨é‡é¢„æ£€æŸ¥",
      "type": "n8n-nodes-base.if",
      "typeVersion": 1,
      "position": [1100, 100]
    },
    {
      "parameters": {
        "url": "{{ $('ç¯å¢ƒé…ç½®').item.json.taskStatusUrl }}",
        "method": "POST",
        "sendBody": true,
        "bodyParameters": {
          "parameters": [
            {
              "name": "taskId",
              "value": "={{ $json.writingResult.taskId }}"
            },
            {
              "name": "status",
              "value": "completed"
            },
            {
              "name": "result",
              "value": "={{ $json.writingResult }}"
            }
          ]
        }
      },
      "id": "d8e9f0g1-h2i3-4567-1234-890123456789",
      "name": "æ›´æ–°ä»»åŠ¡çŠ¶æ€",
      "type": "n8n-nodes-base.httpRequest",
      "typeVersion": 4,
      "position": [1300, 80]
    },
    {
      "parameters": {
        "url": "{{ $('ç¯å¢ƒé…ç½®').item.json.reviewWorkflowUrl }}",
        "method": "POST",
        "sendBody": true,
        "bodyParameters": {
          "parameters": [
            {
              "name": "writingResult",
              "value": "={{ $json.writingResult }}"
            },
            {
              "name": "reviewType",
              "value": "quality_review"
            }
          ]
        }
      },
      "id": "e9f0g1h2-i3j4-5678-2345-901234567890",
      "name": "å‘é€è´¨é‡å®¡æ ¸",
      "type": "n8n-nodes-base.httpRequest",
      "typeVersion": 4,
      "position": [1100, 300]
    },
    {
      "parameters": {},
      "id": "f0g1h2i3-j4k5-6789-3456-012345678901",
      "name": "æ”¶é›†æ‰¹æ¬¡ç»“æœ",
      "type": "n8n-nodes-base.merge",
      "typeVersion": 2,
      "position": [1500, 140]
    },
    {
      "parameters": {
        "functionCode": "// æ£€æŸ¥å½“å‰æ‰¹æ¬¡æ˜¯å¦å®Œæˆï¼Œå†³å®šæ˜¯å¦ç»§ç»­ä¸‹ä¸€æ‰¹æ¬¡\nconst allResults = $input.all();\nconst firstResult = allResults[0];\n\nif (!firstResult || !firstResult.json.originalTaskData) {\n  return allResults;\n}\n\nconst originalData = firstResult.json.originalTaskData.originalData;\nconst currentBatch = originalData.taskManagement.currentBatch;\nconst totalBatches = originalData.taskManagement.totalBatches;\n\n// ç»Ÿè®¡å½“å‰æ‰¹æ¬¡ç»“æœ\nconst completedInBatch = allResults.filter(item => \n  item.json.writingResult && item.json.writingResult.processingStage === 'content_written'\n).length;\n\nconst failedInBatch = allResults.filter(item => \n  item.json.error || (item.json.writingResult && item.json.writingResult.qualityCheck.status === 'needs_review')\n).length;\n\n// æ›´æ–°ä»»åŠ¡ç®¡ç†çŠ¶æ€\nconst updatedTaskManagement = {\n  ...originalData.taskManagement,\n  completedTasks: originalData.taskManagement.completedTasks + completedInBatch,\n  failedTasks: originalData.taskManagement.failedTasks + failedInBatch,\n  currentBatch: currentBatch + 1\n};\n\n// æ”¶é›†å·²å®Œæˆçš„å†…å®¹\nconst completedContents = allResults.filter(item => item.json.writingResult).map(item => item.json.writingResult);\n\nconst batchSummary = {\n  originalData: {\n    ...originalData,\n    taskManagement: updatedTaskManagement\n  },\n  batchResults: {\n    batchId: currentBatch,\n    completedCount: completedInBatch,\n    failedCount: failedInBatch,\n    totalInBatch: allResults.length,\n    completedContents: completedContents\n  },\n  overallProgress: {\n    totalTasks: originalData.taskManagement.totalTasks,\n    completedTasks: updatedTaskManagement.completedTasks,\n    failedTasks: updatedTaskManagement.failedTasks,\n    remainingBatches: totalBatches - currentBatch,\n    progressPercentage: (updatedTaskManagement.completedTasks / originalData.taskManagement.totalTasks * 100).toFixed(1)\n  },\n  hasMoreBatches: currentBatch < totalBatches,\n  processingStage: currentBatch < totalBatches ? 'continue_next_batch' : 'all_batches_completed'\n};\n\nreturn [{ json: batchSummary }];"
      },
      "id": "g1h2i3j4-k5l6-7890-4567-123456789012",
      "name": "æ‰¹æ¬¡è¿›åº¦æ£€æŸ¥",
      "type": "n8n-nodes-base.code",
      "typeVersion": 2,
      "position": [1700, 140]
    },
    {
      "parameters": {
        "conditions": {
          "options": {
            "caseSensitive": true,
            "leftValue": "={{ $json.hasMoreBatches }}",
            "operation": "equal",
            "rightValue": "true"
          }
        }
      },
      "id": "h2i3j4k5-l6m7-8901-5678-234567890123",
      "name": "æ£€æŸ¥æ˜¯å¦æœ‰æ›´å¤šæ‰¹æ¬¡",
      "type": "n8n-nodes-base.if",
      "typeVersion": 1,
      "position": [1900, 140]
    },
    {
      "parameters": {
        "amount": 5,
        "unit": "seconds"
      },
      "id": "i3j4k5l6-m7n8-9012-6789-345678901234",
      "name": "æ‰¹æ¬¡é—´éš”ç­‰å¾…",
      "type": "n8n-nodes-base.wait",
      "typeVersion": 1,
      "position": [2100, 100]
    },
    {
      "parameters": {
        "functionCode": "// å‡†å¤‡ä¸‹ä¸€æ‰¹æ¬¡æ•°æ®\nfor (const item of $input.all()) {\n  // é‡æ–°æ„é€ æ•°æ®ä»¥è§¦å‘ä¸‹ä¸€æ‰¹æ¬¡\n  const originalData = item.json.originalData;\n  \n  item.json = originalData; // è¿”å›åŸå§‹æ•°æ®æ ¼å¼ä»¥ä¾¿å¾ªç¯å¤„ç†\n}\n\nreturn $input.all();"
      },
      "id": "j4k5l6m7-n8o9-0123-7890-456789012345",
      "name": "å‡†å¤‡ä¸‹ä¸€æ‰¹æ¬¡",
      "type": "n8n-nodes-base.code",
      "typeVersion": 2,
      "position": [2300, 100]
    },
    {
      "parameters": {
        "functionCode": "// æ±‡æ€»æ‰€æœ‰æ‰¹æ¬¡çš„å†™ä½œç»“æœ\nfor (const item of $input.all()) {\n  const completedContents = [];\n  const failedTasks = [];\n  \n  // è¿™é‡Œåº”è¯¥ä»æ•°æ®åº“æˆ–ä¸´æ—¶å­˜å‚¨ä¸­æ”¶é›†æ‰€æœ‰å·²å®Œæˆçš„å†…å®¹\n  // ç”±äºæ˜¯ç¤ºä¾‹ï¼Œæˆ‘ä»¬ä»å½“å‰æ•°æ®ä¸­æ”¶é›†\n  if (item.json.batchResults && item.json.batchResults.completedContents) {\n    completedContents.push(...item.json.batchResults.completedContents);\n  }\n  \n  // æŒ‰ç« èŠ‚å’Œå°èŠ‚æ’åº\n  completedContents.sort((a, b) => {\n    if (a.chapter !== b.chapter) return a.chapter - b.chapter;\n    return a.section.localeCompare(b.section);\n  });\n  \n  const writingSummary = {\n    totalTasks: item.json.overallProgress.totalTasks,\n    completedTasks: item.json.overallProgress.completedTasks,\n    failedTasks: item.json.overallProgress.failedTasks,\n    successRate: (item.json.overallProgress.completedTasks / item.json.overallProgress.totalTasks * 100).toFixed(1),\n    completedContents: completedContents,\n    processingStage: 'writing_completed',\n    nextStage: 'final_assembly',\n    completedAt: new Date().toISOString()\n  };\n  \n  item.json = writingSummary;\n}\n\nreturn $input.all();"
      },
      "id": "k5l6m7n8-o9p0-1234-8901-567890123456",
      "name": "æ±‡æ€»å†™ä½œç»“æœ",
      "type": "n8n-nodes-base.code",
      "typeVersion": 2,
      "position": [1900, 300]
    },
    {
      "parameters": {
        "message": "âœ… æ‰€æœ‰å†™ä½œä»»åŠ¡å®Œæˆ\\n\\n**æ€»ä»»åŠ¡æ•°ï¼š** {{ $json.totalTasks }}\\n**å®Œæˆä»»åŠ¡ï¼š** {{ $json.completedTasks }}\\n**å¤±è´¥ä»»åŠ¡ï¼š** {{ $json.failedTasks }}\\n**æˆåŠŸç‡ï¼š** {{ $json.successRate }}%\\n\\nä¸‹ä¸€æ­¥ï¼šè®ºæ–‡æœ€ç»ˆæ•´åˆ",
        "additionalFields": {
          "title": "å†™ä½œä»»åŠ¡å®Œæˆ"
        }
      },
      "id": "l6m7n8o9-p0q1-2345-9012-678901234567",
      "name": "å†™ä½œå®Œæˆé€šçŸ¥",
      "type": "n8n-nodes-base.webhook",
      "typeVersion": 1,
      "position": [2100, 300]
    },
    {
      "parameters": {
        "message": "ğŸ“ æ‰¹æ¬¡ {{ $json.batchResults.batchId }} å†™ä½œè¿›åº¦\\n\\n**æœ¬æ‰¹æ¬¡å®Œæˆï¼š** {{ $json.batchResults.completedCount }}/{{ $json.batchResults.totalInBatch }}\\n**æ€»ä½“è¿›åº¦ï¼š** {{ $json.overallProgress.progressPercentage }}%\\n**å‰©ä½™æ‰¹æ¬¡ï¼š** {{ $json.overallProgress.remainingBatches }}\\n\\nç»§ç»­å¤„ç†ä¸‹ä¸€æ‰¹æ¬¡...",
        "additionalFields": {
          "title": "å†™ä½œè¿›åº¦æ›´æ–°"
        }
      },
      "id": "m7n8o9p0-q1r2-3456-0123-789012345678",
      "name": "è¿›åº¦é€šçŸ¥",
      "type": "n8n-nodes-base.webhook",
      "typeVersion": 1,
      "position": [2100, 200]
    }
  ],
  "connections": {
    "å†™ä½œä»»åŠ¡è§¦å‘å™¨": {
      "main": [
        [
          {
            "node": "ä»»åŠ¡é˜Ÿåˆ—åˆå§‹åŒ–",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "ä»»åŠ¡é˜Ÿåˆ—åˆå§‹åŒ–": {
      "main": [
        [
          {
            "node": "åˆ†å‘å½“å‰æ‰¹æ¬¡ä»»åŠ¡",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "åˆ†å‘å½“å‰æ‰¹æ¬¡ä»»åŠ¡": {
      "main": [
        [
          {
            "node": "LLMç« èŠ‚å†™ä½œ",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "LLMç« èŠ‚å†™ä½œ": {
      "main": [
        [
          {
            "node": "å†™ä½œç»“æœå¤„ç†",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "å†™ä½œç»“æœå¤„ç†": {
      "main": [
        [
          {
            "node": "è´¨é‡é¢„æ£€æŸ¥",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "è´¨é‡é¢„æ£€æŸ¥": {
      "main": [
        [
          {
            "node": "æ›´æ–°ä»»åŠ¡çŠ¶æ€",
            "type": "main",
            "index": 0
          }
        ],
        [
          {
            "node": "å‘é€è´¨é‡å®¡æ ¸",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "æ›´æ–°ä»»åŠ¡çŠ¶æ€": {
      "main": [
        [
          {
            "node": "æ”¶é›†æ‰¹æ¬¡ç»“æœ",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "å‘é€è´¨é‡å®¡æ ¸": {
      "main": [
        [
          {
            "node": "æ”¶é›†æ‰¹æ¬¡ç»“æœ",
            "type": "main",
            "index": 1
          }
        ]
      ]
    },
    "æ”¶é›†æ‰¹æ¬¡ç»“æœ": {
      "main": [
        [
          {
            "node": "æ‰¹æ¬¡è¿›åº¦æ£€æŸ¥",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "æ‰¹æ¬¡è¿›åº¦æ£€æŸ¥": {
      "main": [
        [
          {
            "node": "æ£€æŸ¥æ˜¯å¦æœ‰æ›´å¤šæ‰¹æ¬¡",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "æ£€æŸ¥æ˜¯å¦æœ‰æ›´å¤šæ‰¹æ¬¡": {
      "main": [
        [
          {
            "node": "æ‰¹æ¬¡é—´éš”ç­‰å¾…",
            "type": "main",
            "index": 0
          }
        ],
        [
          {
            "node": "æ±‡æ€»å†™ä½œç»“æœ",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "æ‰¹æ¬¡é—´éš”ç­‰å¾…": {
      "main": [
        [
          {
            "node": "è¿›åº¦é€šçŸ¥",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "è¿›åº¦é€šçŸ¥": {
      "main": [
        [
          {
            "node": "å‡†å¤‡ä¸‹ä¸€æ‰¹æ¬¡",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "å‡†å¤‡ä¸‹ä¸€æ‰¹æ¬¡": {
      "main": [
        [
          {
            "node": "åˆ†å‘å½“å‰æ‰¹æ¬¡ä»»åŠ¡",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "æ±‡æ€»å†™ä½œç»“æœ": {
      "main": [
        [
          {
            "node": "å†™ä½œå®Œæˆé€šçŸ¥",
            "type": "main",
            "index": 0
          }
        ]
      ]
    }
  },
  "active": false,
  "settings": {
    "executionOrder": "v1"
  },
  "versionId": "writing-agent-v1.0",
  "meta": {
    "templateCredsSetupCompleted": true,
    "description": "å†™ä½œAgentå·¥ä½œæµï¼šå¤„ç†è®ºæ–‡åˆ†ä»»åŠ¡å†™ä½œï¼Œæ”¯æŒæ‰¹é‡å¹¶è¡Œå¤„ç†ã€ä»»åŠ¡é˜Ÿåˆ—ç®¡ç†ã€è´¨é‡é¢„æ£€æŸ¥å’Œè¿›åº¦è·Ÿè¸ªã€‚è‡ªåŠ¨æŒ‰ç« èŠ‚é¡ºåºå’Œä¼˜å…ˆçº§å®‰æ’å†™ä½œä»»åŠ¡ã€‚",
    "category": "ai-integration",
    "tags": ["åˆ†ä»»åŠ¡å†™ä½œ", "å¹¶è¡Œå¤„ç†", "ä»»åŠ¡é˜Ÿåˆ—", "è¿›åº¦è·Ÿè¸ª", "è´¨é‡æ§åˆ¶"]
  }
}